# FPX Actual Values Reference

## üîç **Actual Values Found in Codebase**

This document contains all the actual values, credentials, and configuration data found in the JariahFund project codebase.

## üîê **FPX Credentials (Actual Values)**

### **Primary FPX Account**
```bash
# Main FPX Account Details
SELLER_EX_ID=EX00010946
SELLER_ID=SE00039889
SELLER_BANK_CODE=01
```

### **Alternative FPX Account**
```bash
# Alternative FPX Account (used in some views)
SELLER_EX_ID_ALT=EX00011382
SELLER_ID_ALT=SE00012894
```

### **FPX Configuration**
```bash
# FPX Protocol Settings
FPX_VERSION=7.0
FPX_CURRENCY=MYR
FPX_MSG_TOKEN=01
```

## üîë **RSA Key Files (Actual Files)**

### **Key Files Found**
```bash
# RSA Private Keys
EX00010946.key          # Primary private key
EX00011382.key          # Alternative private key

# Certificate Files
EX00010946.cer          # Certificate file
EX00010946.cer.bak.12012024  # Backup certificate
EX00010946.key.bak.12012024  # Backup private key
```

### **Key File Locations**
```bash
# File paths found in code
PRIVATE_KEY_PATH=EX00010946.key
PRIVATE_KEY_ALT_PATH=EX00011382.key
CERTIFICATE_PATH=EX00010946.cer
```

## üìß **Email Configuration (Actual Values)**

### **SendGrid Configuration**
```bash
# SendGrid SMTP Settings
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=465
EMAIL_USE_TLS=False
EMAIL_USE_SSL=True
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=YOUR_SENDGRID_API_KEY_HERE
DEFAULT_FROM_EMAIL=jariahfund@muamalat.com.my
```

### **Email Addresses**
```bash
# Admin Email Addresses
ADMIN_EMAIL=JariahFund@muamalat.com.my
SERVER_EMAIL=jariahfund@muamalat.com.my
COMMENTS_XTD_FROM_EMAIL=noreply@example.com
COMMENTS_XTD_CONTACT_EMAIL=helpdesk@example.com
```

## üîë **Django Security (Actual Values)**

### **Secret Key**
```bash
# Django Secret Key (CRITICAL - Change in production!)
SECRET_KEY=YOUR_DJANGO_SECRET_KEY_HERE
```

## üîÑ **Value Generation and Sources**

### **SYSTEM GENERATED VALUES** (Generated by JariahFund Application)
```bash
# Transaction IDs and References
donation.ref_num=JF123456789012345678                    # System generated random string
fpx_sellerExOrderNo=JF123                               # System generated from donation ID
fpx_sellerTxnTime=20231201143022                        # System generated timestamp

# User and Transaction Data
donation.donation_amount=100.00                          # System generated from user input
donation.user.email=user@example.com                     # System generated from user registration
donation.user.first_name=John                            # System generated from user profile
donation.campaign.title=Emergency Relief Fund            # System generated from campaign creation

# Checksums and Signatures
fpx_checkSum=a1b2c3d4e5f6...                           # System generated RSA signature
```

### **PAYNET PROVIDED VALUES** (Obtained from PAYNET)
```bash
# Authentication and Configuration
PAYNET_MERCHANT_KEY=paynet_merchant_key_12345          # PROVIDED BY PAYNET
PAYNET_API_BASE_URL=https://api.paynet.com.my          # PROVIDED BY PAYNET
PAYNET_SERVICE_ENDPOINTS={"fpx":"/api/v1/fpx"}        # PROVIDED BY PAYNET

# Service-Specific IDs
PAYNET_DUITNOW_RECIPIENT_ID=duitnow_recipient_123      # PROVIDED BY PAYNET
PAYNET_JOMPAY_BILL_CODE=jompay_bill_456                # PROVIDED BY PAYNET
PAYNET_MEPS_ACCOUNT_ID=meps_account_789                 # PROVIDED BY PAYNET
```

### **PAYNET GENERATED RESPONSES** (Returned by PAYNET APIs)
```bash
# Transaction Status Response
{
    "transaction_id": "PAYNET_TXN_20231201143022",      # PAYNET generated
    "status": "SUCCESS",                                 # PAYNET generated
    "authorization_code": "AUTH123456",                  # PAYNET generated
    "settlement_date": "2023-12-01",                    # PAYNET generated
    "processing_fee": "2.50",                           # PAYNET generated
    "net_amount": "97.50"                               # PAYNET generated
}

# Error Response
{
    "error_code": "AUTH_FAILED",                        # PAYNET generated
    "error_message": "Invalid merchant key",             # PAYNET generated
    "error_timestamp": "2023-12-01T14:30:22Z"          # PAYNET generated
}
```

### **Security Settings**
```bash
# SSL/HTTPS Configuration
SECURE_PROXY_SSL_HEADER=('HTTP_X_FORWARDED_PROTO', 'https')
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# Host Configuration
ALLOWED_HOSTS=['*']  # WARNING: Too permissive
```

## üóÑÔ∏è **Database Configuration (Actual Values)**

### **Development Database**
```bash
# SQLite Database
DATABASE_ENGINE=django.db.backends.sqlite3
DATABASE_NAME=/db/db.sqlite3
```

### **Production Database (Commented)**
```bash
# MySQL Database (commented out)
# DATABASE_ENGINE=django.db.backends.mysql
# DATABASE_HOST=localhost
# DATABASE_NAME=JariahFund
# DATABASE_USER=JariahFund
# DATABASE_PASSWORD=
```

## üåê **Application Settings (Actual Values)**

### **Django Settings**
```bash
# Basic Configuration
DEBUG=False
SITE_ID=1
TIME_ZONE=Asia/Kuala_Lumpur
LANGUAGE_CODE=en-us
USE_I18N=True
USE_L10N=True
USE_TZ=True
```

### **Wagtail Settings**
```bash
# CMS Configuration
WAGTAIL_SITE_NAME=Jariah Fund
WAGTAIL_ENABLE_UPDATE_CHECK=False
BASE_URL=http://localhost
WAGTAIL_CACHE=False
```

### **File Storage**
```bash
# Static and Media Files
STATIC_ROOT=/code/static
STATIC_URL=/static/
MEDIA_ROOT=/code/media
MEDIA_URL=/media/
```

## üîê **Authentication Settings (Actual Values)**

### **User Model**
```bash
# Custom User Model
AUTH_USER_MODEL=user.User
LOGIN_URL=/login/
LOGIN_REDIRECT_URL=/
```

### **AllAuth Configuration**
```bash
# Authentication Settings
ACCOUNT_AUTHENTICATION_METHOD=username_email
ACCOUNT_CONFIRM_EMAIL_ON_GET=True
ACCOUNT_EMAIL_REQUIRED=True
ACCOUNT_EMAIL_VERIFICATION=none
ACCOUNT_LOGIN_ON_EMAIL_CONFIRMATION=True
ACCOUNT_LOGOUT_ON_GET=True
ACCOUNT_LOGIN_ON_PASSWORD_RESET=True
ACCOUNT_LOGOUT_REDIRECT_URL=/
ACCOUNT_PRESERVE_USERNAME_CASING=False
ACCOUNT_SESSION_REMEMBER=True
ACCOUNT_SIGNUP_PASSWORD_ENTER_TWICE=True
ACCOUNT_USERNAME_BLACKLIST=["admin", "god"]
ACCOUNT_USERNAME_MIN_LENGTH=2
ACCOUNT_SIGNUP_FORM_CLASS=user.forms.SignupForm
```

### **Comments Configuration**
```bash
# Comments System
COMMENTS_APP=django_comments_xtd
COMMENTS_XTD_SALT=b"Timendi causa est nescire. Aequam memento rebus in arduis servare mentem."
COMMENTS_XTD_MAX_THREAD_LEVEL=1
COMMENTS_XTD_CONFIRM_EMAIL=True
COMMENTS_XTD_LIST_ORDER=('-thread_id', 'order')
```

## üì¶ **Dependencies (Actual Versions)**

### **Core Framework**
```bash
Django==4.1.12
Wagtail==4.2.4
coderedcms==2.0.0
```

### **FPX Integration**
```bash
pycryptodome==3.19.0
requests==2.31.0
```

### **Forms & UI**
```bash
django-crispy-forms==2.0
crispy-bootstrap4==2022.1
crispy-bootstrap5==0.7
django-bootstrap4==23.2
django-bootstrap5==22.2
```

### **Authentication**
```bash
django-allauth==0.57.0
```

### **Comments**
```bash
django-comments-xtd==2.9.10
django-contrib-comments==2.2.0
```

### **Utilities**
```bash
django-import-export==3.3.1
django-maintenance-mode==0.19.0
django-password-validators==1.7.1
django-taggit==3.1.0
django-widget-tweaks==1.5.0
```

### **CMS & Content**
```bash
wagtail-cache==2.3.0
wagtail-seo==2.4.0
wagtailfontawesome==1.2.1
```

## üê≥ **Docker Configuration (Actual Values)**

### **Docker Environment**
```bash
PYTHONUNBUFFERED=1
DJANGO_ENV=dev
```

### **Docker User**
```bash
DOCKER_USER_ID=996
DOCKER_GROUP_ID=995
DOCKER_USER=coderedcms
```

## üîß **Server Configuration (Actual Values)**

### **Startup Script**
```bash
# start.sh
python manage.py makemigrations
python manage.py migrate
python manage.py collectstatic --noinput --clear
gunicorn JariahFund.wsgi:application --bind 0.0.0.0:8000
```

### **Docker Configuration**
```dockerfile
# Dockerfile
FROM python:3.8
LABEL maintainer="JariahFund"
ENV PYTHONUNBUFFERED 1
ENV DJANGO_ENV dev
```

## üìä **FPX Message Examples (Actual Values)**

### **AR Message Parameters**
```bash
# Authorization Request Message
fpx_msgType=AR
fpx_msgToken=01
fpx_sellerExId=EX00010946
fpx_sellerExOrderNo=JF{donation_id}
fpx_sellerTxnTime=YYYYMMDDHHMMSS
fpx_sellerOrderNo={ref_num}
fpx_sellerId=SE00039889
fpx_sellerBankCode=01
fpx_txnCurrency=MYR
fpx_txnAmount={donation_amount}
fpx_buyerEmail={user_email}
fpx_buyerBankId={bank_id}
fpx_productDesc=Donation
fpx_version=7.0
```

### **BE Message Parameters**
```bash
# Bank Enquiry Message
fpx_msgType=BE
fpx_msgToken=01
fpx_sellerExId=EX00010946
fpx_version=7.0
```

### **AC Message Parameters**
```bash
# Acknowledgement Message (from bank)
fpx_msgType=AC
fpx_debitAuthCode=00  # Success code
fpx_fpxTxnId={transaction_id}
fpx_sellerExOrderNo=JF{donation_id}
```

## üö® **Security Warnings**

### **Critical Issues Found**
1. **Hardcoded Secret Key**: The Django secret key is hardcoded in settings
2. **Exposed API Keys**: SendGrid API key is visible in settings
3. **Permissive Hosts**: ALLOWED_HOSTS set to ['*']
4. **Hardcoded Credentials**: FPX credentials are hardcoded in views

### **Required Changes for Production**
```bash
# MUST CHANGE THESE VALUES:
SECRET_KEY=generate-new-secret-key
EMAIL_HOST_PASSWORD=your-actual-sendgrid-key
ALLOWED_HOSTS=['your-domain.com']
FPX_PRIVATE_KEY_PATH=secure-path-to-key
```

## üìã **Environment Variables Template (Based on Actual Values)**

```bash
# =============================================================================
# FPX PAYMENT GATEWAY CONFIGURATION
# =============================================================================

# FPX Account Credentials (ACTUAL VALUES - Change for production)
FPX_SELLER_EX_ID=EX00010946
FPX_SELLER_ID=SE00039889
FPX_SELLER_BANK_CODE=01
FPX_VERSION=7.0
FPX_CURRENCY=MYR

# FPX Gateway URLs
FPX_GATEWAY_URL=https://www.mepsfpx.com.my/FPXMain/seller2DReceiver.jsp
FPX_BANK_LIST_URL=https://www.mepsfpx.com.my/FPXMain/RetrieveBankList

# RSA Key Files
FPX_PRIVATE_KEY_PATH=EX00010946.key
FPX_CERTIFICATE_PATH=EX00010946.cer

# =============================================================================
# DJANGO SECURITY SETTINGS
# =============================================================================

# CHANGE THIS IN PRODUCTION!
SECRET_KEY=YOUR_DJANGO_SECRET_KEY_HERE
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# SSL/HTTPS Settings
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Development (SQLite)
DATABASE_ENGINE=django.db.backends.sqlite3
DATABASE_NAME=/db/db.sqlite3

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SendGrid Configuration (ACTUAL VALUES - Change for production)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=465
EMAIL_USE_TLS=False
EMAIL_USE_SSL=True
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=YOUR_SENDGRID_API_KEY_HERE
DEFAULT_FROM_EMAIL=jariahfund@muamalat.com.my

# Admin Email
ADMIN_EMAIL=JariahFund@muamalat.com.my
SERVER_EMAIL=jariahfund@muamalat.com.my

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Django Settings
SITE_ID=1
TIME_ZONE=Asia/Kuala_Lumpur
LANGUAGE_CODE=en-us

# Wagtail Settings
WAGTAIL_SITE_NAME=Jariah Fund
BASE_URL=https://your-domain.com

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

PYTHONUNBUFFERED=1
DJANGO_ENV=production
```

---

**‚ö†Ô∏è IMPORTANT**: These are the actual values found in the codebase. For production use, you MUST change all sensitive credentials and use environment variables instead of hardcoded values. 